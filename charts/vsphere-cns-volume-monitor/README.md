# vsphere-cns-volume-monitor

![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

A tool to monitor and optionally delete orphaned vSphere CNS volumes

**Homepage:** <https://github.com/janip81/helm-charts/tree/main/charts/vsphere-cns-volume-monitor>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| janip81 | <jani@techmonkeys.se> | <https://github.com/janip81> |

## Source Code

* <https://github.com/janip81/helm-charts/tree/main/charts/vsphere-cns-volume-monitor>
* <https://github.com/janip81/vsphere-cns-volume-monitor>

# Overview
Helm-chart for deploying a vSphere CNS monitor tool

## Adding this helm repository

To add the helm repository, run the following commands:

```bash
helm repo add janip81 https://janip81.github.io/helm-charts/
helm search repo vsphere-cns-volume-monitor
```

`values.yaml` files for the charts can be found in the `charts/[chartname]` directories.

## TL;DR

```bash
helm repo add janip81 https://janip81.github.io/helm-charts/
helm install my-app-name janip81/vsphere-cns-volume-monitor -f YOU-OWN-VALUES.yaml
```

[Helm](https://helm.sh) must be installed to use the charts.  Please refer to
Helm's [documentation](https://helm.sh/docs) to get started.

If you had already added this repo earlier, run `helm repo update` to retrieve
the latest versions of the packages.  You can then run `helm search repo
<alias>` to see the charts.

To install the <chart-name> chart:

    helm install my-<chart-name> <alias>/<chart-name>

To uninstall the chart:

    helm delete my-<chart-name>

## Prerequisites

- [Kubernetes](https://kubernetes.io/)
- [Helm 3.1.0](https://helm.sh)
- PV provisioner support in the underlying infrastructure (for persistent storage)
- LoadBalancer support or an Ingress controller

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| cronjob.schedule | string | `"0 * * * *"` |  |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"ghcr.io/janip81/vsphere-cns-volume-monitor"` |  |
| image.tag | string | `"latest"` |  |
| mode | string | `"deployment"` |  |
| rbac.create | bool | `false` |  |
| resources | object | `{}` |  |
| scan.delete | bool | `false` |  |
| scan.interval | int | `600` |  |
| service.annotations."prometheus.io/port" | string | `"8080"` |  |
| service.annotations."prometheus.io/scrape" | string | `"true"` |  |
| service.enabled | bool | `true` |  |
| service.port | int | `8080` |  |
| serviceMonitor.enabled | bool | `false` |  |
| serviceMonitor.interval | string | `"30s"` |  |
| serviceMonitor.labels.release | string | `"prometheus"` |  |
| serviceMonitor.namespace | string | `""` |  |
| serviceMonitor.scrapeTimeout | string | `"10s"` |  |
| vcenter.createSecret | bool | `false` |  |
| vcenter.existingSecret | string | `""` |  |
| vcenter.insecure | bool | `true` |  |
| vcenter.password | string | `"changeme"` |  |
| vcenter.url | string | `"https://vcenter.example.com"` |  |
| vcenter.username | string | `nil` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)