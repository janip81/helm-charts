# k8s-ui

![Version: 1.0.2](https://img.shields.io/badge/Version-1.0.2-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.1.0](https://img.shields.io/badge/AppVersion-0.1.0-informational?style=flat-square)

A Helm chart for deploying a multi-cluster Kubernetes dashboard with CAPI integration.

**Homepage:** <https://github.com/janip81/k8s-ui>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| janip81 | <jani@techmonkeys.se> |  |

## Source Code

* <https://github.com/janip81/k8s-ui>
* <https://github.com/kubernetes-sigs/cluster-api>
* <https://github.com/kubernetes/dashboard>

## Overview

This Helm chart deploys a multi-cluster Kubernetes dashboard (`k8s-ui`) that integrates with Cluster API (CAPI) to manage and inspect workload clusters.

It consists of a Go-based backend and a React + Material UI frontend. Backend reads kubeconfigs from secrets and optionally creates HTTPRoutes via the Gateway API.

## Features

- Lists workload clusters from Cluster API
- Displays Kubernetes objects from downstream clusters
- Backend in Go, frontend in React + Material UI
- Kubeconfig injection via Helm values
- HTTPRoute support using Gateway API
- Deployable via Helm with configurable options

## Prerequisites

- Kubernetes 1.26+
- Helm 3.8.0+
- Gateway API (if `gateway.enabled=true`)
- A kubeconfig secret (or inline config via Helm)

## TL;DR

```bash
helm repo add janip81 https://janip81.github.io/helm-charts/
helm install k8s-ui janip81/k8s-ui
```

## Installation

### Option 1: Use Inline Kubeconfig

```yaml
kubeconfigSecret:
  create: true
  kubeconfig: |
    apiVersion: v1
    kind: Config
    clusters:
      - name: mgmt
        cluster:
          server: https://your-k8s-api:6443
          certificate-authority-data: BASE64DATA
    contexts:
      - name: default
        context:
          cluster: mgmt
          user: admin
    current-context: default
    users:
      - name: admin
        user:
          token: YOUR_TOKEN
```

```bash
helm install k8s-ui -f my-values.yaml janip81/k8s-ui
```

### Option 2: Use Pre-Created Secret

```yaml
kubeconfigSecret:
  create: false
  name: my-kubeconfig-secret
```

## Updating

```bash
helm upgrade k8s-ui janip81/k8s-ui -f my-values.yaml
```

## Uninstallation

```bash
helm uninstall k8s-ui
```

(Optionally delete the kubeconfig secret manually if you created it separately.)

## Gateway API Support

If enabled, this chart will create an `HTTPRoute` resource pointing to the frontend.

You must provide:
- A valid Gateway (`gateway.name`)
- A hostname and Gateway namespace

## License

MIT

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| gateway.enabled | bool | `true` |  |
| gateway.hostname | string | `"k8s-ui.example.com"` |  |
| gateway.name | string | `"main-gateway"` |  |
| gateway.namespace | string | `"gateway-system"` |  |
| image.backend | string | `"ghcr.io/janip81/k8s-ui-backend"` |  |
| image.frontend | string | `"ghcr.io/janip81/k8s-ui-frontend"` |  |
| image.pullSecret | string | `"ghcr-secret"` |  |
| image.tag | string | `"latest"` |  |
| kubeconfigSecret.create | bool | `true` |  |
| kubeconfigSecret.kubeconfig | string | `"apiVersion: v1\nkind: Config\nclusters:\n- cluster:\n    server: https://your-cluster-endpoint:6443\n    certificate-authority-data: ...\n  name: your-cluster\ncontexts:\n- context:\n    cluster: your-cluster\n    user: admin\n  name: default\ncurrent-context: default\nusers:\n- name: admin\n  user:\n    token: your-token\n"` |  |
| kubeconfigSecret.name | string | `"management-cluster-kubeconfig"` |  |
| replicaCount | int | `1` |  |
| service.port | int | `80` |  |
| service.type | string | `"ClusterIP"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)